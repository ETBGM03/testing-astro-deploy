---
import { Image } from "astro:assets";
import NavBar from "../molecules/NavBar.astro";
import LogoHeader from '../../../public/assets/icons/logo_header.svg'
---

<header id="scroll-header" class="w-full sticky top-0 z-20 bg-emerald-600 flex items-center py-1 lg:px-8 mt-10 justify-between transition-all duration-300">
    <Image src={LogoHeader} alt="logo header" decoding="async" loading="eager" class="w-[256px] h-[57px]">
    <NavBar /> 
</header>

<style>
    .scrolled {
      background: rgba(255, 255, 255, 0);
      backdrop-filter: blur(10px);
    }
  </style>

<script>
    
    const header = document.querySelector("#scroll-header") as HTMLDivElement;
  
    const handleScroll = () => {
        if (header) {
          if (window.scrollY > 100) {
            header.classList.add("scrolled");
          } else {
            header.classList.remove("scrolled");
          }
        }
    };
  
    window.addEventListener("scroll", handleScroll);
      
    window.addEventListener("beforeunload", () => {
        window.removeEventListener("scroll", handleScroll);
    });

  </script>